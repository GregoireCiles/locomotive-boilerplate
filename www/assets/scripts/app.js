!function i(a,s,u){function l(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return l(a[t][1][e]||e)},o,o.exports,i,a,s,u)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EVENT=void 0;var r,o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),d=e("./utils/environment"),i=e("./globals"),a=(r=i)&&r.__esModule?r:{default:r},s=e("./utils/array"),f=e("./utils/html"),u=(e("./utils/is"),function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./modules")));var l=d.APP_NAME+".App",c=n.EVENT={INIT_MODULES:"initModules."+l,INIT_SCOPED_MODULES:"initScopedModules."+l,DELETE_SCOPED_MODULES:"deleteScopedModules."+l};new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modules=u,this.currentModules=[],d.$document.on(c.INIT_MODULES,function(e){t.initGlobals(e.firstBlood).deleteModules(e).initModules(e)}),d.$document.on(c.INIT_SCOPED_MODULES,function(e){t.initModules(e)}),d.$document.on(c.DELETE_SCOPED_MODULES,function(e){t.deleteModules(e)})}return o(e,[{key:"deleteModules",value:function(e){var t=!0,n=[];if(e.$scope instanceof jQuery&&0<e.$scope.length){var r=e.$scope.find("[data-module]");if(!(0<(n=$.makeArray(r.map(function(e){return r.eq(e).data("uid")}))).length))return this;t=!1}for(var o=this.currentModules.length;o--;)(t||(0,s.arrayContains)(n,this.currentModules[o].uid))&&((0,s.removeFromArray)(n,this.currentModules[o].uid),this.currentModules[o].destroy(),this.currentModules.splice(o));return this}},{key:"initGlobals",value:function(e){return(0,a.default)(e),this}},{key:"initModules",value:function(e){var t=[];e.firstBlood?t=d.$document.find("[data-module]"):e.$scope instanceof jQuery&&0<e.$scope.length?t=e.$scope.find("[data-module]"):e.isPjax&&(t=d.$pjaxWrapper.find("[data-module]"));for(var n=0,r=t.length;n<r;n++){var o=t[n],i=(0,f.getNodeData)(o);i.el=o,i.$el=t.eq(n);for(var a=i.module.split(/[,\s]+/g),s=0,u=a.length;s<u;s++){var l=a[s];if("function"==typeof this.modules[l]){var c=new this.modules[l](i);this.currentModules.push(c),c.init()}}}return this}}]),e}()),d.$document.triggerHandler({type:c.INIT_MODULES,firstBlood:!0})},{"./globals":2,"./modules":3,"./utils/array":10,"./utils/environment":12,"./utils/html":13,"./utils/is":14}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(svg4everybody(),e)new i.default};var r,o=e("./transitions/TransitionManager"),i=(r=o)&&r.__esModule?r:{default:r}},{"./transitions/TransitionManager":8}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./modules/Example");Object.defineProperty(n,"Example",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},{"./modules/Example":5}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var o=0,i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.$el=e.$el||null,this.el=e.el||null,this.uid="m-"+o++,this.$el.data("uid",this.uid)}return r(t,[{key:"init",value:function(){}},{key:"destroy",value:function(){this.$el&&this.$el.removeData("uid")}}]),t}();n.default=i},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("../utils/environment"),a=e("./AbstractModule"),s=(r=a)&&r.__esModule?r:{default:r};var u=i.APP_NAME+".Example",l=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return console.log("🔨 [module]:constructor - Example"),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),o(n,[{key:"init",value:function(){}},{key:"destroy",value:function(){console.log("❌ [module]:destroy - Example"),function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this),this.$el.off("."+u)}}]),n}();n.default=l},{"../utils/environment":12,"./AbstractModule":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=e("../utils/environment");var i=o.APP_NAME+".Transition",a={CLICK:"click."+i,READYTOREMOVE:"readyToRemove."+i,READYTODESTROY:"readyToDestroy."+i},s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.wrapper=e.wrapper,this.overrideClass=e.overrideClass?e.overrideClass:"",this.clickedLink=e.clickedLink}return r(t,[{key:"launch",value:function(){o.isDebug&&console.log("---- Launch transition 👊 -----"),o.$html.removeClass("has-dom-loaded has-dom-animated ").addClass("has-dom-loading "+this.overrideClass)}},{key:"hideView",value:function(e,t){o.isDebug&&console.log("----- ❌ [VIEW]:hide - ",e.getAttribute("data-template")),o.$document.triggerHandler({type:a.READYTOREMOVE,oldView:e,newView:t})}},{key:"displayView",value:function(e){var t=this;o.isDebug&&console.log("----- ✅ [VIEW]:display :",e.getAttribute("data-template")),o.$html.attr("data-template",e.getAttribute("data-template")),setTimeout(function(){o.$html.addClass("has-dom-loaded").removeClass("has-dom-loading"),setTimeout(function(){o.$html.removeClass(t.overrideClass).addClass("has-dom-animated")},1e3),o.$document.triggerHandler({type:a.READYTODESTROY})},1e3)}},{key:"destroy",value:function(){o.isDebug&&console.log("---- ❌ [transition]:destroy -----")}}]),t}();n.default=s},{"../utils/environment":12}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=e("../utils/environment"),i=e("./BaseTransition"),a=(r=i)&&r.__esModule?r:{default:r};o.APP_NAME;var s=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.overrideClass="-custom-transition",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),n}();n.default=s},{"../utils/environment":12,"./BaseTransition":6}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_environment=require("../utils/environment"),_App=require("../App"),_transitions=require("./transitions"),transitions=_interopRequireWildcard(_transitions);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var MODULE_NAME="Transition",EVENT_NAMESPACE=_environment.APP_NAME+"."+MODULE_NAME,EVENT={CLICK:"click."+EVENT_NAMESPACE,READYTOREMOVE:"readyToRemove."+EVENT_NAMESPACE,READYTODESTROY:"readyToDestroy."+EVENT_NAMESPACE},_class=function(){function _class(){var r=this;_classCallCheck(this,_class),_environment.$window.on("load",function(){r.load()}),this.transition=new transitions.BaseTransition({wrapper:this.wrapper}),this.containerClass=".js-pjax-container",this.wrapperId="js-pjax-wrapper",this.noPjaxRequestClass="no-transition",this.wrapper=document.getElementById(this.wrapperId),this.options={debug:!1,cacheBust:!1,elements:["a:not(."+this.noPjaxRequestClass+")","form[action]"],selectors:["title",""+this.containerClass],switches:{}},this.options.switches[this.containerClass]=function(e,t,n){return r.switch(e,t,n)},this.pjax=new Pjax(this.options),document.addEventListener("pjax:send",function(e){return r.send(e)}),_environment.$document.on(EVENT.READYTOREMOVE,function(e){r.remove(e.oldView,e.newView)}),_environment.$document.on(EVENT.READYTODESTROY,function(e){r.reinit()})}return _createClass(_class,[{key:"send",value:function(e){_environment.isDebug&&console.log("---- Launch request 🙌 -----");var t=void 0,n=void 0;null!=e.triggerElement?(n=(t=e.triggerElement).getAttribute("data-transition")?t.getAttribute("data-transition"):"BaseTransition",_environment.$html.attr("data-transition",n)):(n="BaseTransition",t=document),this.transition=new transitions[n]({wrapper:this.wrapper,clickedLink:t}),this.transition.launch()}},{key:"switch",value:function(e,t,n){_environment.isDebug&&console.log("---- Next view loaded 👌 -----"),this.transition.hideView(e,t)}},{key:"remove",value:function(e,t){_environment.$document.triggerHandler({type:_App.EVENT.DELETE_SCOPED_MODULES,$scope:_environment.$pjaxWrapper}),e.remove(),this.display(t)}},{key:"display",value:function display(view){this.wrapper.innerHTML=view.outerHTML;var scripts=view.querySelectorAll("script.js-inline");if(scripts instanceof window.NodeList)for(var i=0,len=scripts.length;i<len;i++)eval(scripts[i].innerHTML);_environment.$document.triggerHandler({type:_App.EVENT.INIT_SCOPED_MODULES,isPjax:!0}),this.pjax.onSwitch(),this.transition.displayView(view)}},{key:"reinit",value:function(){this.transition.destroy(),_environment.$html.attr("data-transition",""),this.transition=new transitions.BaseTransition({wrapper:this.wrapper})}},{key:"load",value:function(){_environment.$html.addClass("has-dom-loaded"),_environment.$html.removeClass("has-dom-loading"),setTimeout(function(){_environment.$html.addClass("has-dom-animated")},1e3)}}]),_class}();exports.default=_class},{"../App":1,"../utils/environment":12,"./transitions":9}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./BaseTransition");Object.defineProperty(n,"BaseTransition",{enumerable:!0,get:function(){return i(r).default}});var o=e("./CustomTransition");function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"CustomTransition",{enumerable:!0,get:function(){return i(o).default}})},{"./BaseTransition":6,"./CustomTransition":7}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addToArray=function(e,t){-1===e.indexOf(t)&&e.push(t)},n.arrayContains=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return!0;return!1},n.arrayContentsMatch=function(e,t){var n=void 0;if(!(0,r.isArray)(e)||!(0,r.isArray)(t))return!1;if(e.length!==t.length)return!1;n=e.length;for(;n--;)if(e[n]!==t[n])return!1;return!0},n.ensureArray=function(e){if("string"==typeof e)return[e];if(void 0===e)return[];return e},n.lastItem=function(e){return e[e.length-1]},n.removeFromArray=function(e,t){if(!e)return;var n=e.indexOf(t);-1!==n&&e.splice(n,1)},n.toArray=function(e){var t=[],n=e.length;for(;n--;)t[n]=e[n];return t},n.findByKeyValue=function(e,t,n){return e.filter(function(e){return e[t]===n})},n.cloneArray=function(e){return JSON.parse(JSON.stringify(e))};var r=e("./is")},{"./is":14}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(r,o,i){var a=void 0;return function(){var e=this,t=arguments,n=i&&!a;clearTimeout(a),a=setTimeout(function(){a=null,i||r.apply(e,t)},o),n&&r.apply(e,t)}}},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=$(document),o=$(window),i=$(document.documentElement).removeClass("has-no-js").addClass("has-js"),a=$(document.body),s=$("#js-pjax-wrapper"),u=!!i.data("debug");n.APP_NAME="Boilerplate",n.DATA_API_KEY=".data-api",n.$document=r,n.$window=o,n.$html=i,n.$body=a,n.isDebug=u,n.$pjaxWrapper=s},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.escapeHtml=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.unescapeHtml=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},n.getNodeData=function(e){var t=e.attributes,n=/^data\-(.+)$/,r={};for(var o in t)if(t[o]){var i=t[o].name;if(i){var a=i.match(n);a&&(r[a[1]]=s(e.getAttribute(i)))}}return r},n.getData=s;var r=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;function s(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:r.test(e)?JSON.parse(e):e)}},{}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.isArray=function(e){return"[object Array]"===o.call(e)},n.isArrayLike=function(e){return i.test(o.call(e))},n.isEqual=function(e,t){if(null===e&&null===t)return!0;if("object"===(void 0===e?"undefined":r(e))||"object"===(void 0===t?"undefined":r(t)))return!1;return e===t},n.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},n.isObject=function(e){return e&&"[object Object]"===o.call(e)},n.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)};var o=Object.prototype.toString,i=/^\[object (?:Array|FileList)\]$/},{}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scrollTo=function(e,t){var n=$.Deferred();if(e instanceof jQuery&&0<e.length&&(t=$.extend({},a,void 0!==t?t:{}),!1===i)){i=!0;var r=$("html, body");void 0!==t.$container&&t.$container instanceof jQuery&&0<t.$container.length?(r=t.$container,void 0!==t.scrollTop&&(0,o.isNumeric)(t.scrollTop)&&0!==t.scrollTop?scrollTop=t.scrollTop:scrollTop=e.position().top-t.headerOffset):void 0!==t.scrollTop&&(0,o.isNumeric)(t.scrollTop)&&0!==t.scrollTop?scrollTop=t.scrollTop:scrollTop=e.offset().top-t.headerOffset,r.animate({scrollTop:scrollTop},t.speed,t.easing,function(){i=!1,n.resolve()})}return n.promise()};var o=e("./is"),i=!1,a={easing:"swing",headerOffset:60,speed:300}},{"./is":14}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.visibilityApi=void 0;var o=e("./is"),i=e("./array"),r=e("./environment"),a={hidden:[],visible:[]},s=["addCallback","removeCallback"],u=["visible","hidden"],l="v-",c=0;function d(e){for(var t=a[e],n=0,r=t.length;n<r;n++)t[n].callback()}r.$document.on("visibilitychange",function(e){document.hidden?d("hidden"):d("visible")}),n.visibilityApi=function(e){var t=e.action||"",n=e.state||"",r=void 0;return(0,i.arrayContains)(s,t)?(0,i.arrayContains)(u,n)?("addCallback"===t?r=function(e,t){var n=t.callback||"";if(!(0,o.isFunction)(n))return console.warn("Callback is not a function"),!1;var r=l+c++;return a[e].push({ident:r,callback:n}),r}(n,e):"removeCallback"===t&&(r=function(e,t){var n=t.ident||"";if(void 0===n||""===n)return console.warn("Need ident to remove callback"),!1;var r=(0,i.findByKeyValue)(a[e],"ident",n)[0];return void 0!==r?((0,i.removeFromArray)(a[e],r),!0):(console.warn("Callback could not be found"),!1)}(n,e)),r):(console.warn("State does not exist"),!1):(console.warn("Action does not exist"),!1)}},{"./array":10,"./environment":12,"./is":14}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]);